---
title: "Week 2 Exercises: Ownership and structs"
tags: [Stanford,CS110L,Rust,System Programming]
toc_max_heading_level: 5
--- 
 
### Part 1: Ownership short-answer exercises

#### Example 1:

```rust
fn main() {
    let mut s = String::from("hello");
    let ref1 = &s;
    let ref2 = &ref1;
    let ref3 = &ref2;
    s = String::from("goodbye");
    println!("{}", ref3.to_uppercase());
}
```
From [Rust documentation](https://doc.rust-lang.org/error-index.html), this is a compile error of An attempt was made to assign to a borrowed value. The ownership rule of rust declare that if a variable's reference have been hold by another reference, the variable itself cannot be assign a new value.
```rust
error[E0506]: cannot assign to `s` because it is borrowed
 --> src/main.rs:6:5
  |
3 |     let ref1 = &s;
  |                -- borrow of `s` occurs here
...
6 |     s = String::from("goodbye");
  |     ^ assignment to borrowed `s` occurs here
7 |     println!("{}", ref3.to_uppercase());
  |                    ------------------- borrow later used here
```

##### Amendment

Remove all reference, use call by value instead.
```rust
fn main() {
    let mut s = String::from("hello");
    let ref1 =  s;
    let ref2 =  ref1;
    let ref3 =  ref2;
    s = String::from("goodbye");
    println!("{}", ref3.to_uppercase());
}
```


#### Example 2:
Main function missing 
If this is a function by itself, then the return value should not be a borrowing value. (E0106)
```rust
fn drip_drop() -> &String {
    let s = String::from("hello world!");
    return &s;
}
```
Amendment
```rust
fn drip_drop() -> String {
    let s = String::from("hello world!");
    return s;
}
```
#### Example 3:
```rust
fn main() {
    let s1 = String::from("hello");
    let mut v = Vec::new();
    v.push(s1);
    let s2: String = v[0];
    println!("{}", s2);
}
```

##### Amendment
```rust
fn main() {
    let s1 = String::from("hello");
    let mut v = Vec::new();
    v.push(s1);
    let ref s2: String = v[0];
    println!("{}", s2);
}
```
### Part 2: rdiff

#### Milestone 1: Reading the two files into vectors of lines

#### Milestone 2: Implementing the Grid interface

#### Milestone 3: Implementing Longest Common Subsequence

#### Milestone 4: Using LCS to construct the full diff

### Optional: rwc

### Optional challenge: Conwayâ€™s Game of Life
 
### Course Material:
[Course Website](https://reberhardt.com/cs110l/spring-2020/)  
[Hangout](https://reberhardt.com/cs110l/spring-2020/assignments/week-2-exercises/)